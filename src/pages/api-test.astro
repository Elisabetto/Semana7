---
import BaseLayout from "../layouts/BaseLayout.astro";
import Card from "../components/Card.astro";

const response = await fetch("https://jsonplaceholder.typicode.com/posts");
if (!response.ok) {
    throw new Error("Error al cargar los posts de la API");
}
const posts = await response.json();
const cincoElementos = posts.slice(0, 5);
---
<BaseLayout title="API Test">
    <main class="container">
        <h1>Test API</h1>
        {cincoElementos.map((p: any) => (
            <Card 
            title={p.title}
            description={p.body}
            />
        ))}
    </main>
</BaseLayout>
